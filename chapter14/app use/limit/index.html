<!DOCTYPE html>
<html>
<head>
	<title>上传文件中间件bodyParse</title>
</head>
<body>
<h1>使用bodyParse中间件上传文件</h1>
<form id='form1' enctype='multipart/form-data'>
	请选择文件:<input type='file' id='file' name='file'><br/>
	<input type='submit' value="上传文件" onclick="uploadFile();">
</form>
<output id="result"></output>
</body>
<script type="text/javascript">
	function uploadFile() {
		var formData = new FormData();
		var files = document.getElementById("file").files;
		var file = files[0];
		formData.append('myfile',file);
		var xhr = new XMLHttprequest();
		xhr.open('POST','/index.html',true);
		xhr.onload = function(e) {
			if(this.status == 200) {
				document.getElementById('result').innerHtml = this.response
			}
		}
		xhr.send(formData);
	}
</script>
</html>